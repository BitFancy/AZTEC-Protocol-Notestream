specVersion: 0.0.1
description: Aztec Note Management
repository: https://github.com/AztecProtocol/AZTEC
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ACE
    network: development
    source:
      address: '0xEc85f3D1FC95cA5e02a9E4b08998bd4BF92EF914'
      abi: ACE
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/ACE.ts
      entities:
        - Asset
      abis:
        - name: ACE
          file: ./build/abis/ACE.json
      eventHandlers:
        - event: CreateNoteRegistry(address,address,uint256,address,bool,bool)
          handler: createNoteRegistry
    templates:
      - name: ZkAsset
        kind: ethereum/contract
        network: development
        source:
          abi: ZkAsset
        mapping:
          kind: ethereum/events
          apiVersion: 0.0.2
          language: wasm/assemblyscript
          file: ./mappings/ZkAsset.ts
          entities:
            - Account
              Note
              NoteAccess
              NoteLog
          abis:
            - name: ZkAsset
              file: ./build/abis/ZkAssetOwnable.json
          eventHandlers:
            - event: CreateNote(address,bytes32,bytes)
              handler: createNote
            - event: DestroyNote(address,bytes32,bytes)
              handler: destroyNote
            - event: UpdateNoteMetaData(address,bytes32,bytes)
              handler: updateNoteMetaData
  - kind: ethereum/contract
    name: AZTECAccountRegistry
    network: development
    source:
      address: '0xBCac08778231CAAdfA3FD1E276Cc69065038A9F5'
      abi: AZTECAccountRegistry
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/AccountRegistry.ts
      entities:
        - Account
      abis:
        - name: AZTECAccountRegistry
          file: ./build/abis/AZTECAccountRegistry.json
      eventHandlers:
        - event: RegisterExtension(address,bytes)
          handler: registerExtension
