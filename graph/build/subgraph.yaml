specVersion: 0.0.1
description: Aztec Note Management
repository: 'https://github.com/AztecProtocol/AZTEC'
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ACE
    network: development
    source:
      address: '0xEc85f3D1FC95cA5e02a9E4b08998bd4BF92EF914'
      abi: ACE
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ACE/ACE.wasm
      entities:
        - Asset
      abis:
        - name: ACE
          file: ACE/build/abis/ACE.json
      eventHandlers:
        - event: 'CreateNoteRegistry(address,address,uint256,bool,bool)'
          handler: createNoteRegistry
    templates:
      - name: ZkAsset
        kind: ethereum/contract
        network: development
        source:
          abi: ZkAsset
        mapping:
          kind: ethereum/events
          apiVersion: 0.0.2
          language: wasm/assemblyscript
          file: ACE/templates/ZkAsset/ZkAsset.wasm
          entities:
            - Account Note NoteAccess NoteLog
          abis:
            - name: ZkAsset
              file: ACE/templates/ZkAsset/build/abis/ZkAssetOwnable.json
          eventHandlers:
            - event: 'CreateNote(address,bytes32,bytes)'
              handler: createNote
            - event: 'DestroyNote(address,bytes32,bytes)'
              handler: destroyNote
            - event: 'UpdateNoteMetaData(bytes32,bytes)'
              handler: updateNoteMetaData
  - kind: ethereum/contract
    name: AZTECAccountRegistry
    network: development
    source:
      address: '0xf7D078360075F77C79F4Ccd3336E52EB107c6197'
      abi: AZTECAccountRegistry
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: AZTECAccountRegistry/AZTECAccountRegistry.wasm
      entities:
        - Account
      abis:
        - name: AZTECAccountRegistry
          file: AZTECAccountRegistry/build/abis/AZTECAccountRegistry.json
      eventHandlers:
        - event: 'RegisterExtension(address,bytes)'
          handler: registerExtension
